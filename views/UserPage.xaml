<Window
    Background="#FF231829"
    FontSize="14"
    Height="600"
    Title="MailWare"
    Width="1000"
    mc:Ignorable="d"
    x:Class="MailClient.views.UserPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:fa="http://schemas.fontawesome.io/icons/"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:MailClient.Models"
    xmlns:views="clr-namespace:MailClient.views"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Window.DataContext>
        <models:GetMailViewModel />
    </Window.DataContext>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <StackPanel
            Grid.Column="0"
            Grid.ColumnSpan="2"
            Grid.Row="0"
            Orientation="Horizontal">
            <StackPanel.Resources>
                <Style TargetType="Button">
                    <Setter Property="Background" Value="Wheat" />
                    <Setter Property="Margin" Value="2,2,0,0" />
                </Style>
            </StackPanel.Resources>
            <Button Click="CreateNewAccount">
                <fa:ImageAwesome
                    Height="50"
                    Icon="UserPlus"
                    Width="50" />
            </Button>
            <Button Click="OpenNewMailWindow" ToolTip="Neue Email verfassen">
                <Viewbox Height="50" Width="50">
                    <Rectangle Height="20" Width="22">
                        <Rectangle.Resources>
                            <SolidColorBrush Opacity="0" x:Key="canvas" />
                            <SolidColorBrush
                                Color="#212121"
                                Opacity="0.1"
                                x:Key="light-defaultgrey-10" />
                            <SolidColorBrush
                                Color="#212121"
                                Opacity="1"
                                x:Key="light-defaultgrey" />
                        </Rectangle.Resources>
                        <Rectangle.Fill>
                            <DrawingBrush Stretch="None">
                                <DrawingBrush.Drawing>
                                    <DrawingGroup>
                                        <DrawingGroup x:Name="canvas">
                                            <GeometryDrawing Brush="{DynamicResource canvas}" Geometry="F1M16,16H0V0H16Z" />
                                            <GeometryDrawing Brush="{DynamicResource canvas}" Geometry="F1M16,16H0V0H16Z" />
                                            <GeometryDrawing Brush="{DynamicResource canvas}" Geometry="F1M16,16H0V0H16Z" />
                                        </DrawingGroup>
                                        <DrawingGroup x:Name="level_1">
                                            <GeometryDrawing Brush="{DynamicResource light-defaultgrey-10}" Geometry="F1M14.5,3.5v9H8.938a4.62,4.62,0,0,0,.109-.968A4.253,4.253,0,0,0,7.6,8.212,5.053,5.053,0,0,0,4.131,6.973,5.163,5.163,0,0,0,1.5,7.659V3.5Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-defaultgrey-10}" Geometry="F1M14.5,3.5,8,8.5l-6.5-5Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-defaultgrey}" Geometry="F1M14.5,3H1.5L1,3.5V7.991A4.734,4.734,0,0,1,2,7.4V4.535L5.366,7.113A4.788,4.788,0,0,1,7.6,8.212a4.37,4.37,0,0,1,.627.684h.078L14,4.535V12H9.013a4.234,4.234,0,0,1-.206,1H14.5l.5-.5v-9ZM8,7.869,2.97,4H13.03Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-defaultgrey}" Geometry="F1M4.844,13.134H4.819a1.361,1.361,0,0,1-1.377,1.05,1.294,1.294,0,0,1-1.054-.491,2.028,2.028,0,0,1-.4-1.321,2.94,2.94,0,0,1,.55-1.826,1.727,1.727,0,0,1,1.447-.728,1.042,1.042,0,0,1,.611.188.846.846,0,0,1,.346.452h.015q.015-.136.073-.562H5.84q-.229,2.578-.23,2.627,0,.967.5.967a.88.88,0,0,0,.762-.539,2.841,2.841,0,0,0,.3-1.4A2.781,2.781,0,0,0,6.36,9.479a3.1,3.1,0,0,0-2.268-.8,3.03,3.03,0,0,0-2.3.971,3.413,3.413,0,0,0-.913,2.432A3.15,3.15,0,0,0,1.753,14.4a3.187,3.187,0,0,0,2.368.884,4.608,4.608,0,0,0,2.007-.4v.752A5.517,5.517,0,0,1,3.994,16a3.963,3.963,0,0,1-2.9-1.074A3.758,3.758,0,0,1,0,12.113,4.046,4.046,0,0,1,1.162,9.149,4,4,0,0,1,4.131,7.973a4.067,4.067,0,0,1,2.805.986,3.277,3.277,0,0,1,1.111,2.573,2.934,2.934,0,0,1-.6,1.907,1.83,1.83,0,0,1-1.472.745Q4.849,14.184,4.844,13.134Zm-.777-2.622a.989.989,0,0,0-.866.527,2.436,2.436,0,0,0-.33,1.314,1.39,1.39,0,0,0,.222.832.7.7,0,0,0,.594.3.946.946,0,0,0,.849-.554,2.972,2.972,0,0,0,.313-1.467Q4.849,10.512,4.067,10.512Z" />
                                        </DrawingGroup>
                                    </DrawingGroup>
                                </DrawingBrush.Drawing>
                            </DrawingBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                </Viewbox>
            </Button>
            <Button Click="OpenAnswerMailWindow" ToolTip="Email beantworten">
                <fa:ImageAwesome
                    Height="50"
                    Icon="MailReply"
                    Width="50" />
            </Button>
        </StackPanel>
        <DockPanel
            Grid.Column="1"
            Grid.Row="0"
            Margin="0,0,8,0">
            <DockPanel.Resources>
                <Style TargetType="DockPanel">
                    <Setter Property="HorizontalAlignment" Value="Right" />
                </Style>
                <Style TargetType="Button">
                    <Setter Property="Background" Value="Wheat" />
                    <Setter Property="Width" Value="50" />
                    <Setter Property="Margin" Value="0,2,2,0" />
                </Style>
            </DockPanel.Resources>
            <Button Click="OpenAddressBook" ToolTip="Adressbuch">
                <fa:ImageAwesome Icon="AddressCardOutline" />
            </Button>
            <Button Click="OpenCalendar" ToolTip="Kalender">
                <fa:ImageAwesome Icon="Calendar" />
            </Button>
        </DockPanel>

        <TreeView
            Background="#FF231829"
            Grid.Column="0"
            Grid.Row="1"
            ItemsSource="{Binding UserAccounts, UpdateSourceTrigger=PropertyChanged}"
            Margin="5,10,3,0"
            Width="200"
            x:Name="ProviderOverview">
            <TreeView.Resources>
                <Style TargetType="TreeViewItem">
                    <Setter Property="Foreground" Value="Silver" />
                </Style>
            </TreeView.Resources>
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate>
                    <TreeViewItem
                        Expanded="SetMailSender"
                        Header="{Binding AccountName}"
                        IsExpanded="False"
                        x:Name="ReceivedMailsOverview">
                        <TreeViewItem.Resources>
                            <Style TargetType="fa:FontAwesome">
                                <Setter Property="Width" Value="30" />
                            </Style>
                        </TreeViewItem.Resources>
                        <DockPanel MouseDown="ChooseMailbox">
                            <fa:FontAwesome Icon="Inbox" />
                            <TextBlock Text="  Inbox" />
                        </DockPanel>
                        <DockPanel>
                            <fa:FontAwesome Icon="Trash" />
                            <TextBlock Text="  Trash" />
                        </DockPanel>
                        <DockPanel>
                            <fa:FontAwesome Icon="SendOutline" />
                            <TextBlock Text="  Sent Mail" />
                        </DockPanel>
                    </TreeViewItem>
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>
        </TreeView>

        <DockPanel Grid.Column="1" Grid.Row="1">
            <views:MailInbox
                BorderBrush="Silver"
                BorderThickness="1"
                Margin="3,10,10,0"
                x:Name="MailInbox" />
        </DockPanel>
    </Grid>
</Window>

